<ion-header>

  <ion-navbar color="primary" no-border-bottom>
    <ion-title>Swipe</ion-title>
  </ion-navbar>

  <ion-toolbar color="primary" no-border-top style="padding-bottom:0%;">
    <ion-segment color="light" [(ngModel)]="cardBagMode" no-border>
      <ion-segment-button value="standard" (click)="startNewRound()" style="margin-top:10px;">
        study
      </ion-segment-button>
      <ion-segment-button value="mistake" (click)="reviewFailedCards()" style="margin-top:10px;">
        mistake
        <ion-badge item-end color="danger" *ngIf="failedCardLength > 0">{{failedCardLength}}</ion-badge>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>

</ion-header>

<ion-content id="allCards" padding>

  <div [ngSwitch]="cardBagMode">

    <!-- card standard mode -->
    <div *ngSwitchCase="'standard'">

      <!-- TODO: Study and mistake has id to control the width percent-->
      <div class="progress">
        <div class="progress-bar"></div>
      </div>

      <label class="flipContainer" *ngIf="ready">

        <sc-card class="sc-card" *ngFor="let attendant of attendants" [orientation]="cardDirection" [tinder-card]="cardOverlay"
          [callLike]="attendant.likeEvent" [callDestroy]="attendant.destroyEvent" (onLike)="onCardInteract($event)">
          <input type="checkbox" />

          <div class="theCard">
            <div id="card-front">{{attendant.fronts}}</div>
            <div id="card-back">{{attendant.backs}}</div>
          </div>
        </sc-card>

      </label>

      <!-- next & repeat Btn -->
      <div text-center>
        <button id="new-round-btn" ion-button round large (click)="startNewRound()" color="light">
          <ion-icon name="fastforward"></ion-icon>
        </button>
        <button id="repeat-btn" ion-button round large (click)="repeatRound()" color="light">
          <ion-icon name="repeat"></ion-icon>
        </button>
      </div>
    </div>

    <!-- card mistake mode -->
    <div *ngSwitchCase="'mistake'">

      <!-- TODO: Study and mistake has id to control the width percent-->
      <div class="progress">
        <div class="progress-bar"></div>
      </div>

      <!-- card mistake mode -->
      <label class="flipContainer" *ngIf="ready">

        <sc-card class="sc-card" *ngFor="let attendant of attendants" [orientation]="cardDirection" [tinder-card]="cardOverlay"
          [callLike]="attendant.likeEvent" [callDestroy]="attendant.destroyEvent" (onLike)="onCardInteract($event)">
          <input type="checkbox" />

          <div class="theCard">
            <div id="card-front">{{attendant.fronts}}</div>
            <div id="card-back">{{attendant.backs}}</div>
          </div>
        </sc-card>

      </label>


      <!-- FabBtn -->
      <div text-center>
        <button id="mistake-repet-btn" ion-button round large color="light" (click)="repeatRound()">
          <ion-icon name="repeat">
          </ion-icon>
        </button>
      </div>

    </div>

  </div>

</ion-content>
